{% extends "template.html.twig" %}

{% block title %}Annonce
{% endblock %}

{% block header %}
	{% include 'header.html.twig' %}
{% endblock %}

{% block content %}

	{# section post article #}
	<section class="article">
		<div class="container-article-img">
			<div class="title-article">
				<h1 class="h1-title-article">{{ rental.title }}</h1>
			</div>
			<div class="rating-comment-location-share-like">
				<div class="rating">
					<img src="{{ asset('/media/icon/etoile.svg') }}" alt="rating">
					<span>4.83</span>
				</div>
				<div class="comment">
					<span>64</span>
					<span>commentaires</span>
				</div>
				<div class="location">
					<span>{{ rental.address }},
						</span>
				</div>
				<!-- share -->
				<div class="share">
					<img class="img-share sharePopup" src="{{ asset('/media/icon/Font_Awesome_5_solid_share.svg.png') }}" alt="share article" onclick="toggleSharePopup()">
					<button class="share-button" onclick="toggleSharePopup()">
						Partager
						<!-- Bouton de Partage avec Icônes -->
						<div class="share-popup" id="sharePopup">
							<img class="icon-img" src="{{ asset('/media/icon/facebook.png') }}" alt="Facebook" onclick="shareOnFacebook()">
							<img class="icon-img" src="{{ asset('/media/icon/twitter.svg') }}" alt="Twitter" onclick="shareOnTwitter()">
							<img class="icon-img" src="{{ asset('/media/icon/instagram.png') }}" alt="LinkedIn" onclick="shareOnLinkedIn()">
						</div>
					</button>
				</div>
			</div>
			<!-- Image principale -->
			<div class="container-img">
				<div class="img-article" id="mainImageContainer">
					<img id="mainImage" src="{{ asset('/media/images/' ~ rental.cover) }}" alt="">
				</div>
				<!-- Slider d'images -->
				<div id="sliderContainer">
					<img class="sliderImage" src="{{ asset('/media/images/chalet-foret-nuit.jpg') }}" alt="">
					<img class="sliderImage" src="{{ asset('/media/images/chalet-foret-nuit.jpg') }}" alt="">
					<img
					class="sliderImage" src="{{ asset('/media/images/' ~ rental.cover) }}" alt="">
				<!-- Ajoutez plus d'images de slider si nécessaire -->
				</div>
			</div>
		</div>

		<!-- profil-content-reservation-map -->
		<div class="profil-content-reservation-map">
			<div
				class="row-limit-size-flex">
				<!-- profil-article-content -->
				<div class="profil-article">
					<div class="profil-user-article">
						<div class="img-profil">
							<img src="../asset/media/icon/instagram.svg" alt="">
						</div>
						<div class="profil-span">
							<span>Proposé par<span class="profil-user">{{ user.firstname }}</span>
							</span>
							<span class="date-profil">Menbre depuis<span>janvier 2019</span>
							</span>
						</div>
						<button id="btn-profil">Contacter l'hote</button>
					</div>
					<!-- content-article -->
					<div class="content-article">
						<div class="title-star-rating">
							<div class="title-article">
								<h1 class="h1-title-article">{{ rental.title }}</h1>
								<h2 class="h2-content-article">{{ rental.capacity }}
									voyageurs · 1 lit Demi-salle de bain</h2>
							</div>
							<div class="star-rating">
								<i class="far fa-star star" id="star0" data-gite-id="{{ gite.id }}" data-user-id="{{ app.user.id }}"></i>
								<i class="far fa-star star" id="star1" data-gite-id="{{ gite.id }}" data-user-id="{{ app.user.id }}"></i>
								<i class="far fa-star star" id="star2" data-gite-id="{{ gite.id }}" data-user-id="{{ app.user.id }}"></i>
								<i class="far fa-star star" id="star3" data-gite-id="{{ gite.id }}" data-user-id="{{ app.user.id }}"></i>
								<i class="far fa-star star" id="star4" data-gite-id="{{ gite.id }}" data-user-id="{{ app.user.id }}"></i>
							</div>
						</div>

						<!-- description article -->
						<div class="content-paragragraphe-article">
							<p class="content-p">{{ rental.content }}</p>
							<!-- annonce info -->
							<div class="user-location-condition">
								<div class="condition">
									<div class="condition-img-span">
										<div class="img-p">
											<img src="{{ asset('/media/icon/location-dot-solid.svg') }}" alt="location">
										</div>
										<div class="condition-p">
											<p class='content-p'>Idéalement situé</p>
											<p class='content-p'>100 % des voyageurs ont attribué 5 étoiles à l'emplacement du logement.</p>
										</div>
									</div>
								</div>
								<hr>
								<div class="condition">
									<div class="condition-img-span">
										<div class="img-p">
											<img src="{{ asset('/media/icon/key-solid.svg') }}" alt="location">
										</div>
										<div class="condition-p">
											<p class='content-p'>Procédure d'arrivée irréprochable</p>
											<p class='content-p'>100 % des voyageurs ont attribué 5 étoiles à l'emplacement du logement.</p>
										</div>
									</div>
								</div>
								<hr>
								<div class="condition">
									<div class="condition-img-span">
										<div class="img-p">
											<img src="{{ asset('/media/icon/location-dot-solid.svg') }}" alt="location">
										</div>
										<div class="condition-p">
											<p class='content-p'>Annulation gratuite avant le 30 juin.</p>
										</div>
									</div>
								</div>
								<hr>
								<!-- condition de prevention  -->
								<div class="content-user-for-utulisateur">
									<span class='content-p'>Pendant votre séjour :</span>
									<p class="p-user-condition content-p">Merci de prévenir de votre horaire d'arrivée par SMS. Parking privé et sécurisé. On vous aide à monter vos bagages avec une corde.Taux de réponse : 100% Délai de réponse : Moins d'une heure</p>
								</div>
							</div>
							<hr>
							<!-- liste ce que propose le logement  -->
							<h4 class="title-liste">Ce que propose ce logement</h4>
							<div class="list-container-rental">
								<ul class="ul-list">
									<li>Parking gratuit sur place</li>
									<li>Patio ou balcon : privé(e)</li>
									<li>Brasero</li>
									<li>Petit déjeuner</li>
								</ul>
								<ul class="ul-list">
									<li>Petit déjeuner</li>
									<li>Déjeuner</li>
									<li>Gouter</li>
									<li>Diner</li>
								</ul>
							</div>
							<hr>
							<div class="list-stuf-container-rental">
								<div class="stuf-chambre">
									<span class="title-liste">Equipements</span>
									<span class="title-liste">Chambre et linge</span>
								</div>
								<div class="list-container-rental">
									<ul class="ul-list">
										<li>Parking gratuit sur place</li>
										<li>Patio ou balcon : privé(e)</li>
										<li>Brasero</li>
										<li>Petit déjeuner</li>
									</ul>
									<ul class="ul-list">
										<li>Petit déjeuner</li>
										<li>Déjeuner</li>
										<li>Gouter</li>
										<li>Diner</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- card-reservation-map-article -->
				<div class=" card-map-article">
					<div class="card-reservation">
						<div class="prince-rating-comment">
							<div class="prince-device">
								<span class="prince">{{ rental.price }}</span>
								<span class="devise">€</span>
								<span class='night-card-reservation'>par nuit</span>
							</div>
							<div class="star-rating">
								<i class="fa-solid fa-star"></i>
								<span class="rating">4.83</span>
							</div>
						</span>
						<div class="comment">
							<span class="number-comment">64</span>
							<span class="sapn-comment">Comments</span>
						</div>
					</div>

					<div class="form-card-reservation">
						<form action="" method="POST">
							<div class="form-reservation">
								<div class="label">
									<label for="arrivee">Date arrivée</label>
									<label for="depart">Date depart</label>
								</div>

								<div class="form-date-arrivee-depart">
									<input type="date" name="arrivee" class="date-arrive" id="date-arrive" placeholder="Date arrivée">
									<input type="date" name="depart" class="date-depart" id="date-depart" placeholder="Date depart">
								</div>

								<div class="guest-input">
									<select id="input-select" name="personnes">
										<option value="1">1 Personne</option>
										<option value="2">2 Personnes</option>
										<option value="3">3 Personnes</option>
										<option value="4">4 Personnes</option>
										<option value="5">5 Personnes</option>
										<option value="6">6 Personnes</option>
										<option value="7">7 Personnes</option>
										<option value="8">8 Personnes</option>
									</select>
								</div>

								<!-- Les champs cachés -->
								<input type="hidden" id="duration" name="duration">
								<input type="hidden" id="total" name="total">
								<input type="hidden" name="id_rental" value="{{ rental.id }}">


							</div>

							<div class="btn-reservation">
								<button type="submit" id="search-button" name="submit">Reserver</button>
							</div>
						</form>

						<div class="card-span-reservation">
							<span class="span-card">Aucun montant ne vous sera débité pour le moment</span>
						</div>

						<div class="prince-card-reservation">
							<div id="price-per-night" data-price="{{ rental.price }}"></div>

							<div class="day-prince">
								<div class="prince-for-day">
									<span id="price-per-night-display">{{ rental.price }}€</span>
									<span>x</span>
									<span id="num-nights">5</span>
									<span>nuits</span>
								</div>

								<div class="prince">
									<span id="sub-total-span">550</span>
									<span>€</span>
								</div>
							</div>

							<hr>

							<div class="tax-for-days">
								<div class="tax-for-day">
									<span>Taxe (5%)</span>
								</div>

								<div class="tax">
									<span id="tax-total-span">0</span>
									<span>€</span>
								</div>
							</div>

							<hr>

							<div class="total-prince">
								<span class="span-prince">Total</span>
								<span id="total-span">550</span>
								<span class="device-total-span">€</span>
							</div>
						</div>
					</div>
				</div>
				<!-- map -->
				<div class="map-container">
					<div
						class="map">
						{# <div id="mapid"></div> #}
						<div style="height:280px;" id="mapid" data-latitude="{{ rental.latitude }}" data-longitude="{{ rental.longitude }}"></div>


					</div>
				</div>
			</div>
		</div>

		<div class="comment-container">
			<div class="comment">
				<h3>commentaire</h3>
			</div>

			<div class="star-comment">
				<div class="star">
					<img src="{{ asset('/media/icon/etoile.svg') }}" alt="star">
					<span>4.83</span>
				</div>

				<div class="comment">
					<span>64</span>
					<span>Comments</span>
				</div>
			</div>
		</div>

		<!-- comment img and p -->
		<div class="comment-flex">
			<div class="comment-img-p">
				<div class="img-comment">
					<img src="../asset/media/icon/instagram.png" alt="">
				</div>
				<div class="name-comment-p">
					<div class="name-rating">
						<div class="name-comment">
							<p class="name">karim</p>
						</div>
						<div class="note-card">
							<span>4</span>
							<img class='img-note-card' src="{{ asset('/media/icon/etoile.svg') }}" alt="">
						</div>
					</div>
					<div class="p-comment">
						<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quis incidunt quidem dolore ducimus provident aperiam delectus hic.</p>
					</div>
				</div>
			</div>
		</div>
	</section>


	{% block javascripts %}
		{{ parent() }}
		<script defer src="{{ asset('/js/rentalMaps.js') }}"></script>
		<script defer src="{{ asset('/js/sharePopup.js') }}"></script>
		<script defer src="{{ asset('/js/star.js') }}"></script>
		<script defer src="{{ asset('/js/reservation.js') }}"></script>


	{% endblock %}
{% endblock %}
